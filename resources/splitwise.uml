+-----------------------------+        +-----------------------------+
|           User              |        |            Split            |
+-----------------------------+        +-----------------------------+
| - userId: String            |<-------| - user: User                |
| - name: String              |        | - amount: double            |
| - email: String             |        | - id: String                |
+-----------------------------+        +-----------------------------+
| + getUserId(): String       |        | + getUser(): User           |
| + getName(): String         |        | + getAmount(): double       |
| + getEmail(): String        |        | + getId(): String           |
+-----------------------------+        +-----------------------------+

                ^ (uses)
                |
                |  * (composition)
                v
+-----------------------------+        +-----------------------------+
|           Expense           |<>------|          Split              |
+-----------------------------+        +-----------------------------+
| - id: String                |        |                             |
| - paidBy: User              |        +-----------------------------+
| - amount: double            |
| - involvedUsers: List<User> |
| - splits: List<Split>       |
| - splitStrategy:            |
|   SplitStrategy             |
+-----------------------------+
| + getId()                   |
| + getPaidBy()               |
| + getAmount()/setAmount()   |
| + getInvolvedUsers()        |
| + setInvolvedUsers()        |
| + getSplits()/setSplits()   |
| + getSplitStrategy()        |
+-----------------------------+

                ^ (Strategy pattern)
                |
                |  1
                v
+-----------------------------+
|       <<interface>>         |
|        SplitStrategy        |
+-----------------------------+
| + calculateSplits(...)      |
+-----------------------------+
   ^                ^                ^
   |                |                |
   |                |                |
   |                |                |
+----------------+  +----------------+  +---------------------------+
| EqualSplit...  |  | ExactSplit...  |  | PercentageSplitStrategy   |
+----------------+  +----------------+  +---------------------------+

+-----------------------------+
|        BalanceSheet         |
+-----------------------------+
| - balances: Map<String,     |
|   Map<String, Double>>      |
+-----------------------------+
| + updateBalance(...)        |
| + reverseBalance(...)       |
| + getBalances()             |
+-----------------------------+

+-----------------------------+
|        ExpenseService       |
+-----------------------------+
| - balanceSheet: BalanceSheet|
| - expenseMap: Map<String,   |
|   Expense>                  |
+-----------------------------+
| + addExpense(...)           |
| + updateExpense(...)        |
| + deleteExpense(...)        |
| + getBalances()             |
+-----------------------------+
           |
           |  uses
           v
+-----------------------------+
|        BalanceSheet         |
+-----------------------------+

+-----------------------------+
|          Group              |
+-----------------------------+
| - name: String              |
| - users: List<User>         |
| - expenseIds: List<String>  |
+-----------------------------+
| + addUser(User)             |
| + addExpense(String)        |
| + getUsers()                |
| + getExpenseIds()           |
+-----------------------------+

+-----------------------------+
|       GroupManager          |
+-----------------------------+
| - groups: Map<String,Group> |
| - groupExpenseServices:     |
|   Map<String, ExpenseService>|
+-----------------------------+
| + createGroup(...)          |
| + addUserToGroup(...)       |
| + addExpense(...)           |
| + updateExpense(...)        |
| + deleteExpense(...)        |
| + showBalances(...)         |
| + simplifyDebts(...)        |
+-----------------------------+
        |
        | uses
        v
+-----------------------------+
|       ExpenseService        |
+-----------------------------+

+-----------------------------+
|       DisplayService        |
+-----------------------------+
| + showBalances(...)         |
+-----------------------------+

+-----------------------------+
|       DebtSimplifier        |
+-----------------------------+
| + simplify(...)             |
+-----------------------------+

+-----------------------------+
|            Main             |
+-----------------------------+
| + main(String[]): void      |
+-----------------------------+
